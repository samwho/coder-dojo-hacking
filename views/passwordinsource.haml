.centered
  %h1 Backward Inc.
  %p
    Please log in below:

%form#login{:method=>'post', :action=>'.'}
  %fieldset
    %legend &nbsp;&lt;secure login form /&gt;&nbsp;
    #errormessage.centered invalid email or password
    .input
      %label{:for => "username"} username:
      %input{:id=>'username', :value => "drevil"}
    .input
      %label{:for => "password"} password:
      %input{:id=>'password', :type=>'password'}
    .input
      %label &nbsp;
      %input{:type=>'submit', 'value'=>'log in'}


:javascript
  $(function(){
    $.fn.teletype = function(opts){

        var $this = this,
            defaults = {
                animDelay: 50
            },
            settings = $.extend(defaults, opts);
        
        $.each(settings.text, function(i, letter){


            setTimeout(function(){
                $this.html($this.html() + letter);
            }, settings.animDelay * i);
        });
    }

    $('#login').on('submit', function(){

      // Passowrd check
      if($('#username').val() == 'drevil' && $('#password').val() == 'password')
        return true
      
      else {
        var loginForm = $(this);

        loginForm.addClass('error');

        setTimeout(function(){
          loginForm.removeClass('error');
        }, 1000);

        return false;
      }
    });

    // Print source code of the page
    $('#sourcecode').teletype({
        animDelay: 20,
        text: "<html>\n  "+document.getElementsByTagName('html')[0].innerHTML
    });
  });